(this.webpackJsonptest3=this.webpackJsonptest3||[]).push([[0],{20:function(e,t,n){e.exports=n(33)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),c=n(16),o=n.n(c),i=n(10),u=n(6),s=n(19),m=Object(r.createContext)(),f=n(4),d=n(7),E=(a={DEFAULT:function(e){return e}},Object(f.a)(a,"GET_FILMS",(function(e,t){return Object(d.a)({},e,{films:t.payload})})),Object(f.a)(a,"SEARCH_FILM",(function(e,t){return Object(d.a)({},e,{films:t.payload})})),Object(f.a)(a,"GET_TAGS",(function(e,t){return Object(d.a)({},e,{tages:t.payload})})),Object(f.a)(a,"GET_FILMS_TAG",(function(e,t){return Object(d.a)({},e,{tages:t.payload})})),Object(f.a)(a,"GET_LIST_TAGS",(function(e,t){return Object(d.a)({},e,{toogleOpen:t.payload})})),Object(f.a)(a,"RE_RENDER",(function(e){return Object(d.a)({},e)})),Object(f.a)(a,"GET_MORE_FILMS",(function(e){return Object(d.a)({},e,{countItem:e.countItem+15})})),a),b=function(e,t){return(E[t.type]||E.DEFAULT)(e,t)},g=function(e){var t=e.children,n=Object(r.useReducer)(b,{films:[],tages:[],toogleOpen:!1,countItem:15}),a=Object(s.a)(n,2),c=a[0],o=a[1];Object(r.useEffect)((function(){fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/films.json").then((function(e){return e.json()})).then((function(e){return o({type:"GET_FILMS",payload:e})})),fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/tags.json").then((function(e){return e.json()})).then((function(e){return o({type:"GET_TAGS",payload:e})}))}),[]);var i=function(e,t){return 0===t.length?e:e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}))},u=function(e,t){return e.filter((function(e){return e.tags.includes(t)}))};return l.a.createElement(m.Provider,{value:{state:c,getFilm:function(e){fetch("./jsons/films.json").then((function(e){return e.json()})).then((function(t){return o({type:"SEARCH_FILM",payload:i(t,e)})}))},getFilmByTage:function(e){fetch("./jsons/films.json").then((function(e){return e.json()})).then((function(t){return o({type:"SEARCH_FILM",payload:u(t,e)})}))},getAllTages:function(){o({type:"GET_LIST_TAGS",payload:!c.toogleOpen})},reRender:function(){o({type:"RE_RENDER"})},getMoreFilms:function(){return[o({type:"GET_MORE_FILMS"})]}}},l.a.createElement("div",{className:"container pt-2"},t))},p=function(){return l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement("div",{className:"navbar-brand h1",href:"/"},"\u041f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a"),l.a.createElement("ul",{className:"navbar-nav "},l.a.createElement("li",{className:"navbar item"},l.a.createElement(i.b,{exact:!0,to:"/",className:"nav-link"},"\u0424\u0438\u043b\u044c\u043c\u044b")),l.a.createElement("li",{className:"navbar item"},l.a.createElement(i.b,{to:"/favorites",className:"nav-link"},"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438")))))},v=function(){var e=Object(r.useContext)(m).getFilm;return l.a.createElement("form",null,l.a.createElement("div",{className:"form-group mt-2"},l.a.createElement("input",{type:"text",className:"form-control search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onChange:function(t){var n=t.target.value;e(n)}})))},h=(n(30),function(e){var t=e.title,n=e.saveToLocal,a=(JSON.parse(localStorage.getItem("films"))||[]).includes(t)?"fa fa-heart clicked":"fa fa-heart";return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:function(){return n(t)},className:"badge badge-secondary badge-pill"},l.a.createElement("i",{className:a})))}),y=function(){var e=Object(r.useContext)(m),t=e.state,n=e.reRender,a=t.films,c=t.countItem;return a.length>0?l.a.createElement("ul",{className:"list-group"},a.slice(0,c).map((function(e,t){return l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t+Math.random()},e.title,l.a.createElement(h,{title:e.title,saveToLocal:function(){return function(e){var t=JSON.parse(localStorage.getItem("films"))||[];if(t.includes(e)){var a=t.filter((function(t){return t!==e}));localStorage.setItem("films",JSON.stringify(a)),n()}else t.push(e),localStorage.setItem("films",JSON.stringify(t)),n()}(e.title)}}))}))):null},N=function(){var e=Object(r.useContext)(m),t=e.state,n=e.getFilmByTage,a=e.getAllTages,c=t.tages;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return n(c[0])},title:c[0]},c[0])),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return n(c[1])},title:c[1]},c[1])),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return a()},title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438")))},O=function(){var e=Object(r.useContext)(m),t=e.state,n=e.getFilmByTage,a=e.getAllTages,c=t.tages;return l.a.createElement("div",{className:"row"},c.map((function(e,t){return l.a.createElement("div",{key:t+Math.random(),className:"col-md-auto m-1"},l.a.createElement("button",{title:e,className:"btn btn-secondary btn-sm",onClick:function(){return n(e)}},e))})),l.a.createElement("div",{className:"col-md-auto m-1"},l.a.createElement("button",{title:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e",className:"btn btn-info btn-sm",onClick:function(){return a()}},"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e")))},j=function(){var e=Object(r.useContext)(m).state.toogleOpen;return l.a.createElement("div",{className:"container mt-4 mb-4 p-3 border border-gray"},e?null:l.a.createElement(N,null),e?l.a.createElement(O,null):null)},T=(n(31),function(){var e=Object(r.useContext)(m).getMoreFilms;return l.a.createElement("div",{className:"pagionat"},l.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(){return e()}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"))}),S=function(){var e=Object(r.useContext)(m).state,t=e.films,n=e.countItem;return l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement(j,null),l.a.createElement(y,null),t.length>n?l.a.createElement(T,null):null)},C=(n(32),function(e){var t=e.title,n=e.deleteToLocal;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:function(){return n(t)},className:"badge badge-secondary badge-pill"},l.a.createElement("i",{className:"fa fa-heart clicked"})))}),I=function(){var e=Object(r.useContext)(m).reRender,t=JSON.parse(localStorage.getItem("films"))||[];return t.length>0?l.a.createElement("ul",{className:"list-group"},t.map((function(n,a){return l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:a+Math.random()},n,l.a.createElement(C,{title:n,deleteToLocal:function(){return function(n){var a=t.filter((function(e){return e!==n}));localStorage.setItem("films",JSON.stringify(a)),e()}(n)}}))}))):l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("h3",null,"\u0417\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043d\u0435\u0442"))},k=function(){return l.a.createElement("div",null,l.a.createElement(I,null))},F=function(){return l.a.createElement(g,null,l.a.createElement(i.a,null,l.a.createElement(p,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:S}),l.a.createElement(u.a,{path:"/favorites",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.1d4bb50f.chunk.js.map