(this.webpackJsonptest3=this.webpackJsonptest3||[]).push([[0],{20:function(e,t,n){e.exports=n(33)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(16),o=n.n(l),i=n(10),s=n(6),u=n(19),m=Object(r.createContext)(),f=n(4),d=n(7),b=(a={DEFAULT:function(e){return e}},Object(f.a)(a,"GET_FILMS",(function(e,t){return Object(d.a)({},e,{films:t.payload})})),Object(f.a)(a,"SEARCH_FILM",(function(e,t){return Object(d.a)({},e,{films:t.payload})})),Object(f.a)(a,"GET_TAGS",(function(e,t){return Object(d.a)({},e,{tages:t.payload})})),Object(f.a)(a,"GET_FILMS_TAG",(function(e,t){return Object(d.a)({},e,{tages:t.payload})})),Object(f.a)(a,"GET_LIST_TAGS",(function(e,t){return Object(d.a)({},e,{toogleOpen:t.payload})})),Object(f.a)(a,"RE_RENDER",(function(e){return Object(d.a)({},e)})),Object(f.a)(a,"GET_MORE_FILMS",(function(e){return Object(d.a)({},e,{countItem:e.countItem+15})})),a),E=function(e,t){return(b[t.type]||b.DEFAULT)(e,t)},g=function(e){var t=e.children,n=Object(r.useReducer)(E,{films:[],tages:[],toogleOpen:!1,countItem:15}),a=Object(u.a)(n,2),l=a[0],o=a[1];Object(r.useEffect)((function(){fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/films.json").then((function(e){return e.json()})).then((function(e){return o({type:"GET_FILMS",payload:e})})),fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/tags.json").then((function(e){return e.json()})).then((function(e){return o({type:"GET_TAGS",payload:e})}))}),[]);var i=function(e,t){return 0===t.length?e:e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}))},s=function(e,t){return e.filter((function(e){return e.tags.includes(t)}))};return c.a.createElement(m.Provider,{value:{state:l,getFilm:function(e){fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/films.json").then((function(e){return e.json()})).then((function(t){return o({type:"SEARCH_FILM",payload:i(t,e)})}))},getFilmByTage:function(e){fetch("https://gist.githubusercontent.com/naranovnarn/edf124175a69ded82c68730c108890a2/raw/28449a00b1f72d6d89eb018c36a97639dedf8fc2/films.json").then((function(e){return e.json()})).then((function(t){return o({type:"SEARCH_FILM",payload:s(t,e)})}))},getAllTages:function(){o({type:"GET_LIST_TAGS",payload:!l.toogleOpen})},reRender:function(){o({type:"RE_RENDER"})},getMoreFilms:function(){return[o({type:"GET_MORE_FILMS"})]}}},c.a.createElement("div",{className:"container pt-2"},t))},p=function(){return c.a.createElement("header",null,c.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},c.a.createElement("div",{className:"navbar-brand h1",href:"/"},"\u041f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a"),c.a.createElement("ul",{className:"navbar-nav "},c.a.createElement("li",{className:"navbar item"},c.a.createElement(i.b,{exact:!0,to:"/search_films_reactJS/",className:"nav-link"},"\u0424\u0438\u043b\u044c\u043c\u044b")),c.a.createElement("li",{className:"navbar item"},c.a.createElement(i.b,{to:"/favorites/",className:"nav-link"},"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438")))))},v=function(){var e=Object(r.useContext)(m).getFilm;return c.a.createElement("form",null,c.a.createElement("div",{className:"form-group mt-2"},c.a.createElement("input",{type:"text",className:"form-control search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onChange:function(t){var n=t.target.value;e(n)}})))},h=(n(30),function(e){var t=e.title,n=e.saveToLocal,a=(JSON.parse(localStorage.getItem("films"))||[]).includes(t)?"fa fa-heart clicked":"fa fa-heart";return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{onClick:function(){return n(t)},className:"badge badge-secondary badge-pill"},c.a.createElement("i",{className:a})))}),y=function(){var e=Object(r.useContext)(m),t=e.state,n=e.reRender,a=t.films,l=t.countItem;return a.length>0?c.a.createElement("ul",{className:"list-group"},a.slice(0,l).map((function(e,t){return c.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t+Math.random()},e.title,c.a.createElement(h,{title:e.title,saveToLocal:function(){return function(e){var t=JSON.parse(localStorage.getItem("films"))||[];if(t.includes(e)){var a=t.filter((function(t){return t!==e}));localStorage.setItem("films",JSON.stringify(a)),n()}else t.push(e),localStorage.setItem("films",JSON.stringify(t)),n()}(e.title)}}))}))):null},N=function(){var e=Object(r.useContext)(m),t=e.state,n=e.getFilmByTage,a=e.getAllTages,l=t.tages;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return n(l[0])},title:l[0]},l[0])),c.a.createElement("div",{className:"col-4"},c.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return n(l[1])},title:l[1]},l[1])),c.a.createElement("div",{className:"col-4"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return a()},title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438")))},O=function(){var e=Object(r.useContext)(m),t=e.state,n=e.getFilmByTage,a=e.getAllTages,l=t.tages;return c.a.createElement("div",{className:"row"},l.map((function(e,t){return c.a.createElement("div",{key:t+Math.random(),className:"col-md-auto m-1"},c.a.createElement("button",{title:e,className:"btn btn-secondary btn-sm",onClick:function(){return n(e)}},e))})),c.a.createElement("div",{className:"col-md-auto m-1"},c.a.createElement("button",{title:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e",className:"btn btn-info btn-sm",onClick:function(){return a()}},"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e")))},j=function(){var e=Object(r.useContext)(m).state.toogleOpen;return c.a.createElement("div",{className:"container mt-4 mb-4 p-3 border border-gray"},e?null:c.a.createElement(N,null),e?c.a.createElement(O,null):null)},S=(n(31),function(){var e=Object(r.useContext)(m).getMoreFilms;return c.a.createElement("div",{className:"pagionat"},c.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(){return e()}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"))}),T=function(){var e=Object(r.useContext)(m).state,t=e.films,n=e.countItem;return c.a.createElement("div",null,c.a.createElement(v,null),c.a.createElement(j,null),c.a.createElement(y,null),t.length>n?c.a.createElement(S,null):null)},C=(n(32),function(e){var t=e.title,n=e.deleteToLocal;return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{onClick:function(){return n(t)},className:"badge badge-secondary badge-pill"},c.a.createElement("i",{className:"fa fa-heart clicked"})))}),_=function(){var e=Object(r.useContext)(m).reRender,t=JSON.parse(localStorage.getItem("films"))||[];return t.length>0?c.a.createElement("ul",{className:"list-group"},t.map((function(n,a){return c.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:a+Math.random()},n,c.a.createElement(C,{title:n,deleteToLocal:function(){return function(n){var a=t.filter((function(e){return e!==n}));localStorage.setItem("films",JSON.stringify(a)),e()}(n)}}))}))):c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h3",null,"\u0417\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043d\u0435\u0442"))},I=function(){return c.a.createElement("div",null,c.a.createElement(_,null))},k=function(){return console.log("test4"),c.a.createElement(g,null,c.a.createElement(i.a,null,c.a.createElement(p,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/search_films_reactJS/",component:T}),c.a.createElement(s.a,{path:"/favorites/",component:I}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.f5048d96.chunk.js.map